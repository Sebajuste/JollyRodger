[gd_scene load_steps=19 format=2]

[ext_resource path="res://scenes/miscs/CameraRig/CameraRig.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/games/TestWaterHeight/TestWaterHeight.gd" type="Script" id=2]
[ext_resource path="res://scenes/miscs/SelectArea/SelectArea.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/objects/boats/Sloop/Sloop.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/ui/DebugPanel/DebugPanel.tscn" type="PackedScene" id=5]
[ext_resource path="res://assets/sounds/ocean_waves_crisp.wav" type="AudioStream" id=6]
[ext_resource path="res://scenes/ui/BoatControl/BoatControl.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/objects/Terrain/IslandHeightCurve.tres" type="Curve" id=8]
[ext_resource path="res://scenes/objects/Terrain/Terrain.tscn" type="PackedScene" id=9]
[ext_resource path="res://scenes/miscs/SceneSpawner/SceneSpawner.tscn" type="PackedScene" id=10]
[ext_resource path="res://scenes/objects/Terrain/IslandFalls01.tres" type="Curve" id=11]
[ext_resource path="res://scenes/ui/BoatInfo/BoatInfo.tscn" type="PackedScene" id=13]
[ext_resource path="res://scenes/objects/Ocean/Ocean.tscn" type="PackedScene" id=15]

[sub_resource type="OpenSimplexNoise" id=1]
octaves = 4
period = 50.0
persistence = 0.2
lacunarity = 3.0

[sub_resource type="CubeMesh" id=2]

[sub_resource type="BoxShape" id=3]
extents = Vector3( 3.71414, 9.70136, 11.536 )

[sub_resource type="ProceduralSky" id=4]

[sub_resource type="Environment" id=5]
background_mode = 2
background_sky = SubResource( 4 )
fog_enabled = true
fog_depth_begin = 100.0
fog_depth_end = 1000.0

[node name="TestWaterHeight" type="Spatial"]
script = ExtResource( 2 )

[node name="Ocean" parent="." instance=ExtResource( 15 )]
amplitude = 30.0
steepness = 0.111

[node name="Island1" parent="." instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 135.423, -15.1838, 239.417 )
noise = SubResource( 1 )
height = 60.0
height_curve = ExtResource( 8 )
island_curve = ExtResource( 11 )

[node name="Spatial" type="Spatial" parent="Island1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 100, 21.789, 0 )

[node name="Cube" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 52.2351, 0, -64.6987 )
mesh = SubResource( 2 )
material/0 = null

[node name="Sloop" parent="." instance=ExtResource( 4 )]
transform = Transform( -0.801108, 0, -0.59852, 0, 1, 0, 0.59852, 0, -0.801108, 28.4419, 1.81968, -60.1324 )

[node name="Position3D" type="Position3D" parent="Sloop"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.28781, 7.72921 )

[node name="Sloop2" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -59.5129, 0, -36.8886 )

[node name="SelectArea" parent="Sloop2" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.42275, 0 )
group_target = "water_boat"

[node name="CollisionShape" parent="Sloop2/SelectArea" index="0"]
shape = SubResource( 3 )

[node name="CameraRig" parent="." instance=ExtResource( 1 )]
mode = "Gimbal"
target_path = NodePath("../Sloop/Position3D")

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.772468, -0.371938, 0.514739, 0, 0.810543, 0.585679, -0.635054, -0.452418, 0.626118, 0, 81.77, 0 )
shadow_enabled = true

[node name="SceneSpawner" parent="." instance=ExtResource( 10 )]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 5 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
margin_left = 20.0
margin_top = 20.0
margin_right = 398.0
margin_bottom = 212.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="DebugPanel" parent="CanvasLayer/MarginContainer" instance=ExtResource( 5 )]
margin_right = 378.0
margin_bottom = 342.0
boat_path = NodePath("../../../Sloop")

[node name="MarginContainer2" type="MarginContainer" parent="CanvasLayer"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -262.0
margin_top = -194.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BoatControl" parent="CanvasLayer/MarginContainer2" instance=ExtResource( 7 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 262.0
margin_bottom = 194.0
boat_path = NodePath("../../../Sloop")

[node name="MarginContainer3" type="MarginContainer" parent="CanvasLayer"]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 20.0
margin_top = -133.0
margin_right = 330.0
margin_bottom = -20.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BoatInfo" parent="CanvasLayer/MarginContainer3" instance=ExtResource( 13 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 310.0
margin_bottom = 113.0
boat_path = NodePath("../../../Sloop")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 6 )
autoplay = true
bus = "sound"

[editable path="Sloop2/SelectArea"]
